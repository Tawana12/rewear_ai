{% extends "base.html" %}

{% block content %}
<div class="max-w-7xl mx-auto px-6 py-12">
    <nav class="mb-8 text-[10px] font-bold uppercase tracking-widest text-gray-400">
        <a href="{{ url_for('wardrobe.index') }}" class="hover:text-black">Wardrobe</a> / 
        <a href="{{ url_for('wardrobe.detail', id=item.id) }}" class="hover:text-black">{{ item.name }}</a> / 
        <span class="text-black">Upcycle Workshop</span>
    </nav>

    <div class="grid lg:grid-cols-3 gap-12 items-start">
        
        <div class="lg:col-span-1 space-y-6">
            <div class="relative group">
                <img src="{{ url_for('static', filename='uploads/' + item.image_file) }}" 
                     class="w-full rounded-[2.5rem] border border-gray-100 shadow-2xl transition-all group-hover:scale-[1.01]">
                <div class="absolute -bottom-4 right-8">
                    <span class="bg-black text-white px-5 py-2 rounded-full text-[9px] font-bold uppercase tracking-widest shadow-xl">
                        Source: {{ item.category }}
                    </span>
                </div>
            </div>

            <div class="p-8 bg-green-50 rounded-[2.5rem] border border-green-100">
                <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center mb-4">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z"/></svg>
                </div>
                <p class="text-[9px] font-bold uppercase tracking-widest text-green-600 mb-2">Sustainable Choice</p>
                <h4 class="text-lg font-bold tracking-tight mb-1 text-green-900">Zero-Waste Logic</h4>
                <p class="text-sm text-green-700 leading-relaxed">
                    By upcycling this <b>{{ item.color }} {{ item.category }}</b>, you are actively participating in the circular economy and diverting waste from Harare's local landfills.
                </p>
            </div>
        </div>

        <div class="lg:col-span-2 space-y-8">
            
            <div class="bg-gray-900 rounded-[3rem] p-12 text-white relative overflow-hidden shadow-2xl border border-gray-800">
                <div class="absolute -right-12 -bottom-12 opacity-10">
                    <svg width="280" height="280" viewBox="0 0 24 24" fill="currentColor"><path d="M23.5 6.2c-.3-1.1-1.1-1.9-2.2-2.1C19.4 3.5 12 3.5 12 3.5s-7.4 0-9.3.5c-1.1.3-1.9 1-2.2 2.1C0 8.1 0 12 0 12s0 3.9.5 5.8c.3 1.1 1.1 1.9 2.2 2.1 1.9.5 9.3.5 9.3.5s7.4 0 9.3-.5c1.1-.3 1.9-1 2.2-2.1.5-1.9.5-5.8.5-5.8s0-3.9-.5-5.8zM9.5 15.5V8.5l6.3 3.5-6.3 3.5z"/></svg>
                </div>

                <div class="relative z-10">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="px-3 py-1 bg-red-600 rounded-full text-[8px] font-bold uppercase tracking-widest">YouTube Intelligence</span>
                        <span class="text-[8px] text-gray-500 font-bold uppercase tracking-widest">Project-Specific Tutorials</span>
                    </div>

                    <h3 class="text-4xl font-bold tracking-tighter mb-4 max-w-md leading-none">Launch your Visual Tutorial.</h3>
                    <p class="text-gray-400 text-base leading-relaxed mb-10 max-w-sm">
                        Our system has curated a library of specialized tutorials to help you master the <b>{{ recipe.project_name }}</b> technique.
                    </p>

                    <a href="{{ youtube_url }}" target="_blank" 
                       class="inline-flex items-center justify-center gap-4 bg-white text-black px-12 py-5 rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-red-600 hover:text-white transition-all shadow-xl">
                        <span>Open Tutorial Hub</span>
                        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                    </a>
                </div>
            </div>

            <div class="bg-white p-12 rounded-[3rem] border border-gray-100 shadow-sm">
                <div class="flex flex-col md:flex-row justify-between items-start gap-4 mb-12">
                    <div>
                        <p class="text-[9px] font-bold uppercase tracking-[0.2em] text-gray-400 mb-2">AI Generated Blueprint</p>
                        <h2 class="text-5xl font-bold tracking-tighter">{{ recipe.project_name }}</h2>
                    </div>
                    <span class="inline-block px-5 py-2 bg-gray-100 text-gray-500 text-[10px] font-bold uppercase tracking-widest rounded-full">
                        Difficulty: {{ recipe.difficulty }}
                    </span>
                </div>

                <div class="grid md:grid-cols-2 gap-12">
                    <div class="space-y-10">
                        <h4 class="text-[10px] font-bold uppercase tracking-widest text-black border-b border-gray-100 pb-3">Project Execution</h4>
                        {% for step in recipe.steps %}
                        <div class="flex gap-6 group">
                            <div class="w-10 h-10 rounded-full bg-black text-white flex items-center justify-center font-bold text-xs shrink-0 group-hover:bg-red-600 transition-colors shadow-lg">
                                {{ loop.index }}
                            </div>
                            <p class="text-gray-600 text-lg leading-tight pt-1">
                                {{ step }}
                            </p>
                        </div>
                        {% endfor %}
                    </div>

                    <div class="p-10 bg-gray-50 rounded-[2.5rem] border border-gray-100">
                        <h4 class="text-[10px] font-bold uppercase tracking-widest text-black border-b border-gray-200 pb-4 mb-6">Preparation List</h4>
                        <div class="space-y-4">
                            <label class="flex items-center gap-4 cursor-pointer group">
                                <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-black focus:ring-black">
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">Fabric Scissors</span>
                            </label>
                            <label class="flex items-center gap-4 cursor-pointer group">
                                <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-black focus:ring-black">
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">Matching {{ item.color }} Thread</span>
                            </label>
                            <label class="flex items-center gap-4 cursor-pointer group">
                                <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-black focus:ring-black">
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">Measuring Tape / Ruler</span>
                            </label>
                            <label class="flex items-center gap-4 cursor-pointer group">
                                <input type="checkbox" class="w-5 h-5 rounded border-gray-300 text-black focus:ring-black">
                                <span class="text-sm text-gray-600 group-hover:text-black transition-colors">Pins or Marking Chalk</span>
                            </label>
                        </div>
                    </div>
                </div>

                <button class="mt-16 w-full py-6 bg-black text-white rounded-full text-[11px] font-bold uppercase tracking-[0.2em] hover:bg-green-600 transition-all shadow-2xl shadow-gray-200">
                    Confirm Project Completion
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}